# Generated by Django 4.2.7 on 2026-01-19 07:43

import apps.network.models.router_models
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('customers', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ACSConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('acs_url', models.URLField()),
                ('acs_username', models.CharField(blank=True, max_length=100)),
                ('acs_password', models.CharField(blank=True, max_length=200)),
                ('connection_request_url', models.URLField(blank=True)),
                ('cpe_username', models.CharField(default='tr069', max_length=100)),
                ('cpe_password', models.CharField(max_length=200)),
                ('periodic_interval', models.IntegerField(default=86400)),
                ('is_active', models.BooleanField(default=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'ACS Configuration',
                'verbose_name_plural': 'ACS Configurations',
            },
        ),
        migrations.CreateModel(
            name='CPEDevice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('manufacturer', models.CharField(choices=[('HUAWEI', 'Huawei'), ('ZTE', 'ZTE'), ('TP-LINK', 'TP-Link'), ('D-LINK', 'D-Link'), ('CISCO', 'Cisco'), ('OTHER', 'Other')], max_length=50)),
                ('model', models.CharField(max_length=100)),
                ('serial_number', models.CharField(max_length=100, unique=True)),
                ('product_class', models.CharField(blank=True, max_length=100)),
                ('hardware_version', models.CharField(blank=True, max_length=50)),
                ('software_version', models.CharField(blank=True, max_length=50)),
                ('oui', models.CharField(blank=True, max_length=6)),
                ('cpe_id', models.CharField(max_length=200, unique=True)),
                ('connection_status', models.CharField(choices=[('CONNECTED', 'Connected'), ('DISCONNECTED', 'Disconnected'), ('BOOTING', 'Booting'), ('PROVISIONING', 'Provisioning'), ('ERROR', 'Error')], default='DISCONNECTED', max_length=20)),
                ('wan_ip', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('wan_mac', models.CharField(blank=True, max_length=17)),
                ('lan_ip', models.GenericIPAddressField(default='192.168.1.1', protocol='IPv4')),
                ('last_connection', models.DateTimeField(blank=True, null=True)),
                ('last_boot', models.DateTimeField(blank=True, null=True)),
                ('provisioned', models.BooleanField(default=False)),
                ('configuration_file', models.TextField(blank=True)),
                ('custom_parameters', models.JSONField(blank=True, default=dict)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('acs_config', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='network.acsconfiguration')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('service_connection', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cpe_device', to='customers.serviceconnection')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'CPE Device',
                'verbose_name_plural': 'CPE Devices',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='HotspotUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('username', models.CharField(max_length=100)),
                ('password', models.CharField(max_length=100)),
                ('mac_address', models.CharField(blank=True, max_length=17)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('bytes_in', models.BigIntegerField(default=0)),
                ('bytes_out', models.BigIntegerField(default=0)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('DISABLED', 'Disabled'), ('EXPIRED', 'Expired'), ('BLOCKED', 'Blocked')], default='ACTIVE', max_length=20)),
                ('profile', models.CharField(default='default', max_length=100)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['username'],
            },
        ),
        migrations.CreateModel(
            name='OLTDevice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('hostname', models.CharField(max_length=200, unique=True)),
                ('ip_address', models.GenericIPAddressField(protocol='IPv4')),
                ('vendor', models.CharField(choices=[('ZTE', 'ZTE'), ('HUAWEI', 'Huawei'), ('NOKIA', 'Nokia'), ('FIBERHOME', 'FiberHome'), ('ALU', 'Alcatel-Lucent'), ('OTHER', 'Other')], max_length=20)),
                ('model', models.CharField(max_length=100)),
                ('serial_number', models.CharField(max_length=100, unique=True)),
                ('firmware_version', models.CharField(max_length=50)),
                ('location', models.CharField(blank=True, max_length=200)),
                ('community_string', models.CharField(blank=True, max_length=100)),
                ('ssh_username', models.CharField(blank=True, max_length=100)),
                ('ssh_password', models.CharField(blank=True, max_length=200)),
                ('telnet_port', models.IntegerField(default=23, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(65535)])),
                ('api_port', models.IntegerField(default=8080, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(65535)])),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('MAINTENANCE', 'Maintenance'), ('OFFLINE', 'Offline'), ('DECOMMISSIONED', 'Decommissioned')], default='ACTIVE', max_length=20)),
                ('last_sync', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'OLT Device',
                'verbose_name_plural': 'OLT Devices',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='OLTPort',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('port_number', models.CharField(max_length=10)),
                ('port_type', models.CharField(choices=[('UPLINK', 'Uplink'), ('PON', 'PON Port'), ('ETH', 'Ethernet'), ('GE', 'Gigabit Ethernet'), ('XE', '10G Ethernet')], max_length=10)),
                ('description', models.CharField(blank=True, max_length=200)),
                ('admin_state', models.BooleanField(default=True)),
                ('operational_state', models.BooleanField(default=False)),
                ('speed', models.CharField(blank=True, max_length=20)),
                ('mtu', models.IntegerField(default=1500)),
                ('last_change', models.DateTimeField(auto_now=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('olt', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ports', to='network.oltdevice')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'OLT Port',
                'verbose_name_plural': 'OLT Ports',
                'ordering': ['olt', 'port_number'],
            },
        ),
        migrations.CreateModel(
            name='Router',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(help_text='Friendly name for the router', max_length=255)),
                ('ip_address', models.GenericIPAddressField(blank=True, help_text='Management IP — auto-filled on authentication', null=True)),
                ('mac_address', models.CharField(blank=True, help_text='WAN MAC address (optional)', max_length=17, null=True)),
                ('api_port', models.PositiveIntegerField(default=8728, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(65535)])),
                ('api_username', models.CharField(blank=True, max_length=100, null=True)),
                ('api_password', models.CharField(blank=True, max_length=255, null=True)),
                ('router_type', models.CharField(choices=[('mikrotik', 'Mikrotik'), ('ubiquiti', 'Ubiquiti'), ('cisco', 'Cisco'), ('other', 'Other')], default='mikrotik', max_length=50)),
                ('model', models.CharField(blank=True, max_length=100, null=True)),
                ('firmware_version', models.CharField(blank=True, max_length=50, null=True)),
                ('location', models.CharField(blank=True, max_length=255, null=True)),
                ('latitude', models.DecimalField(blank=True, decimal_places=7, max_digits=10, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=7, max_digits=10, null=True)),
                ('status', models.CharField(choices=[('online', 'Online'), ('offline', 'Offline'), ('maintenance', 'Maintenance'), ('warning', 'Warning'), ('error', 'Error')], default='offline', max_length=20)),
                ('total_users', models.PositiveIntegerField(default=0)),
                ('active_users', models.PositiveIntegerField(default=0)),
                ('uptime', models.CharField(blank=True, max_length=50, null=True)),
                ('uptime_percentage', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('sla_target', models.DecimalField(decimal_places=2, default=99.0, max_digits=5)),
                ('last_seen', models.DateTimeField(blank=True, null=True)),
                ('tags', models.JSONField(default=list)),
                ('notes', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('auth_key', models.CharField(default=apps.network.models.router_models.generate_auth_key, help_text='Auto-generated key used by router script to authenticate', max_length=50, unique=True)),
                ('is_authenticated', models.BooleanField(default=False)),
                ('authenticated_at', models.DateTimeField(blank=True, null=True)),
                ('shared_secret', models.CharField(default=apps.network.models.router_models.generate_shared_secret, help_text='RADIUS shared secret — used when configuring this router as a RADIUS client', max_length=255)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Router',
                'verbose_name_plural': 'Routers',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Subnet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('network_address', models.GenericIPAddressField(protocol='IPv4')),
                ('subnet_mask', models.GenericIPAddressField(protocol='IPv4')),
                ('cidr', models.CharField(max_length=3)),
                ('version', models.CharField(choices=[('IPv4', 'IPv4'), ('IPv6', 'IPv6')], default='IPv4', max_length=4)),
                ('description', models.TextField(blank=True)),
                ('vlan_id', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MaxValueValidator(4095)])),
                ('location', models.CharField(blank=True, max_length=200)),
                ('is_public', models.BooleanField(default=False)),
                ('total_ips', models.IntegerField(default=0)),
                ('used_ips', models.IntegerField(default=0)),
                ('available_ips', models.IntegerField(default=0)),
                ('utilization_percentage', models.FloatField(default=0.0)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Subnet',
                'verbose_name_plural': 'Subnets',
                'ordering': ['network_address'],
                'unique_together': {('network_address', 'cidr')},
            },
        ),
        migrations.CreateModel(
            name='RouterEvent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('event_type', models.CharField(choices=[('up', 'Router Online'), ('down', 'Router Offline'), ('reboot', 'Router Rebooted'), ('config_change', 'Configuration Changed'), ('warning', 'Warning'), ('error', 'Error'), ('maintenance', 'Maintenance Mode'), ('auth_success', 'Authenticated Successfully'), ('auth_key_regen', 'Auth Key Regenerated'), ('backup', 'Backup Created')], max_length=50)),
                ('message', models.TextField()),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('router', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='events', to='network.router')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PPPoEUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('username', models.CharField(max_length=100)),
                ('password', models.CharField(max_length=100)),
                ('caller_id', models.CharField(blank=True, max_length=100)),
                ('local_address', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('remote_address', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('bytes_in', models.BigIntegerField(default=0)),
                ('bytes_out', models.BigIntegerField(default=0)),
                ('status', models.CharField(choices=[('CONNECTED', 'Connected'), ('DISCONNECTED', 'Disconnected'), ('DISABLED', 'Disabled')], default='DISCONNECTED', max_length=20)),
                ('profile', models.CharField(default='default-encryption', max_length=100)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('router', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pppoe_users', to='network.router')),
                ('service_connection', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pppoe_user', to='customers.serviceconnection')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['username'],
            },
        ),
        migrations.CreateModel(
            name='PONPort',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pon_index', models.CharField(max_length=20)),
                ('pon_type', models.CharField(choices=[('GPON', 'GPON'), ('EPON', 'EPON'), ('XG-PON', 'XG-PON'), ('XGS-PON', 'XGS-PON')], max_length=10)),
                ('splitter_ratio', models.CharField(default='1:32', max_length=20)),
                ('total_onus', models.IntegerField(default=0)),
                ('registered_onus', models.IntegerField(default=0)),
                ('rx_power', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('tx_power', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('distance', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('status', models.CharField(choices=[('OPERATIONAL', 'Operational'), ('DEGRADED', 'Degraded'), ('FAILED', 'Failed')], default='OPERATIONAL', max_length=20)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('olt_port', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pon_ports', to='network.oltport')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'PON Port',
                'verbose_name_plural': 'PON Ports',
                'ordering': ['olt_port', 'pon_index'],
            },
        ),
        migrations.CreateModel(
            name='ONUDevice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('serial_number', models.CharField(max_length=50, unique=True)),
                ('mac_address', models.CharField(max_length=17, unique=True)),
                ('onu_type', models.CharField(choices=[('HG8245H', 'Huawei HG8245H'), ('HG8245Q2', 'Huawei HG8245Q2'), ('F660', 'ZTE F660'), ('F601', 'ZTE F601'), ('AN5506', 'Nokia AN5506'), ('OTHER', 'Other')], max_length=50)),
                ('onu_index', models.CharField(max_length=20)),
                ('rx_power', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('tx_power', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('distance', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('status', models.CharField(choices=[('REGISTERED', 'Registered'), ('ONLINE', 'Online'), ('OFFLINE', 'Offline'), ('LOS', 'Loss of Signal'), ('SUSPENDED', 'Suspended')], default='REGISTERED', max_length=20)),
                ('last_seen', models.DateTimeField(blank=True, null=True)),
                ('registration_date', models.DateTimeField(blank=True, null=True)),
                ('config_version', models.CharField(blank=True, max_length=50)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('pon_port', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='onus', to='network.ponport')),
                ('service_connection', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='onu_device', to='customers.serviceconnection')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'ONU Device',
                'verbose_name_plural': 'ONU Devices',
                'ordering': ['pon_port', 'onu_index'],
            },
        ),
        migrations.CreateModel(
            name='OLTConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('config_type', models.CharField(choices=[('RUNNING', 'Running Config'), ('STARTUP', 'Startup Config'), ('BACKUP', 'Backup Config')], max_length=20)),
                ('version', models.CharField(max_length=50)),
                ('config_data', models.TextField()),
                ('checksum', models.CharField(max_length=64)),
                ('applied_date', models.DateTimeField(auto_now_add=True)),
                ('is_active', models.BooleanField(default=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('applied_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('olt', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='configs', to='network.oltdevice')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'OLT Configuration',
                'verbose_name_plural': 'OLT Configurations',
                'ordering': ['-applied_date'],
            },
        ),
        migrations.CreateModel(
            name='MikrotikQueue',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('queue_name', models.CharField(max_length=100)),
                ('queue_type', models.CharField(default='SIMPLE', max_length=20)),
                ('target', models.CharField(max_length=200)),
                ('max_limit', models.CharField(default='10M/10M', max_length=50)),
                ('burst_limit', models.CharField(blank=True, max_length=50)),
                ('disabled', models.BooleanField(default=False)),
                ('comment', models.TextField(blank=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('hotspot_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='network.hotspotuser')),
                ('pppoe_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='network.pppoeuser')),
                ('router', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='queues', to='network.router')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['queue_name'],
            },
        ),
        migrations.CreateModel(
            name='MikrotikInterface',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('interface_name', models.CharField(max_length=50)),
                ('interface_type', models.CharField(choices=[('ETHERNET', 'Ethernet'), ('WLAN', 'Wireless'), ('BRIDGE', 'Bridge'), ('VLAN', 'VLAN'), ('PPPOE', 'PPPoE'), ('OTHER', 'Other')], default='ETHERNET', max_length=20)),
                ('mac_address', models.CharField(blank=True, max_length=17)),
                ('mtu', models.IntegerField(default=1500)),
                ('rx_bytes', models.BigIntegerField(default=0)),
                ('tx_bytes', models.BigIntegerField(default=0)),
                ('rx_packets', models.BigIntegerField(default=0)),
                ('tx_packets', models.BigIntegerField(default=0)),
                ('rx_errors', models.BigIntegerField(default=0)),
                ('tx_errors', models.BigIntegerField(default=0)),
                ('admin_state', models.BooleanField(default=True)),
                ('operational_state', models.BooleanField(default=False)),
                ('last_change', models.DateTimeField(auto_now=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('router', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='interfaces', to='network.router')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['interface_name'],
            },
        ),
        migrations.CreateModel(
            name='IPPool',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('pool_type', models.CharField(choices=[('DHCP', 'DHCP Pool'), ('STATIC', 'Static Pool'), ('RESERVED', 'Reserved Pool')], default='DHCP', max_length=20)),
                ('start_ip', models.GenericIPAddressField(protocol='IPv4')),
                ('end_ip', models.GenericIPAddressField(protocol='IPv4')),
                ('gateway', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('dns_servers', models.CharField(blank=True, max_length=200)),
                ('lease_time', models.CharField(default='1d', max_length=20)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('total_ips', models.IntegerField(default=0)),
                ('used_ips', models.IntegerField(default=0)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('subnet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pools', to='network.subnet')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'IP Pool',
                'verbose_name_plural': 'IP Pools',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='IPAddress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('ip_address', models.GenericIPAddressField(protocol='IPv4', unique=True)),
                ('assignment_type', models.CharField(choices=[('DYNAMIC', 'Dynamic'), ('STATIC', 'Static'), ('RESERVED', 'Reserved'), ('GATEWAY', 'Gateway'), ('NETWORK', 'Network'), ('BROADCAST', 'Broadcast')], default='DYNAMIC', max_length=20)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('RESERVED', 'Reserved'), ('AVAILABLE', 'Available'), ('EXPIRED', 'Expired')], default='AVAILABLE', max_length=20)),
                ('mac_address', models.CharField(blank=True, max_length=17)),
                ('hostname', models.CharField(blank=True, max_length=200)),
                ('description', models.TextField(blank=True)),
                ('lease_start', models.DateTimeField(blank=True, null=True)),
                ('lease_end', models.DateTimeField(blank=True, null=True)),
                ('last_seen', models.DateTimeField(blank=True, null=True)),
                ('device_type', models.CharField(blank=True, max_length=50)),
                ('manufacturer', models.CharField(blank=True, max_length=100)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('ip_pool', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pool_addresses', to='network.ippool')),
                ('service_connection', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ip_addresses', to='customers.serviceconnection')),
                ('subnet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ip_addresses', to='network.subnet')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'IP Address',
                'verbose_name_plural': 'IP Addresses',
                'ordering': ['ip_address'],
            },
        ),
        migrations.AddField(
            model_name='hotspotuser',
            name='router',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='hotspot_users', to='network.router'),
        ),
        migrations.AddField(
            model_name='hotspotuser',
            name='service_connection',
            field=models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hotspot_user', to='customers.serviceconnection'),
        ),
        migrations.AddField(
            model_name='hotspotuser',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='DHCPRange',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('start_ip', models.GenericIPAddressField(protocol='IPv4')),
                ('end_ip', models.GenericIPAddressField(protocol='IPv4')),
                ('router', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('dns_server', models.GenericIPAddressField(blank=True, null=True, protocol='IPv4')),
                ('domain_name', models.CharField(blank=True, max_length=200)),
                ('lease_time', models.CharField(default='86400', max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('ip_pool', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dhcp_ranges', to='network.ippool')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'DHCP Range',
                'verbose_name_plural': 'DHCP Ranges',
                'ordering': ['start_ip'],
            },
        ),
        migrations.CreateModel(
            name='VLAN',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('vlan_id', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4095)])),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('subnet', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_vlans', to='network.subnet')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'VLAN',
                'verbose_name_plural': 'VLANs',
                'ordering': ['vlan_id'],
                'unique_together': {('vlan_id',)},
            },
        ),
        migrations.CreateModel(
            name='TR069Session',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('session_type', models.CharField(choices=[('INFORM', 'Inform'), ('GET_PARAMETER_VALUES', 'Get Parameter Values'), ('SET_PARAMETER_VALUES', 'Set Parameter Values'), ('GET_RPC_METHODS', 'Get RPC Methods'), ('DOWNLOAD', 'Download'), ('UPLOAD', 'Upload'), ('REBOOT', 'Reboot'), ('FACTORY_RESET', 'Factory Reset')], max_length=30)),
                ('session_id', models.CharField(max_length=100, unique=True)),
                ('start_time', models.DateTimeField()),
                ('end_time', models.DateTimeField(blank=True, null=True)),
                ('duration', models.DurationField(blank=True, null=True)),
                ('status', models.CharField(choices=[('SUCCESS', 'Success'), ('FAILED', 'Failed'), ('PENDING', 'Pending'), ('TIMEOUT', 'Timeout')], default='PENDING', max_length=20)),
                ('request_data', models.JSONField(blank=True, null=True)),
                ('response_data', models.JSONField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('cpe_device', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sessions', to='network.cpedevice')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('initiated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'TR-069 Session',
                'verbose_name_plural': 'TR-069 Sessions',
                'ordering': ['-start_time'],
                'indexes': [models.Index(fields=['session_id'], name='network_tr0_session_9d5f5e_idx'), models.Index(fields=['start_time'], name='network_tr0_start_t_da8bc3_idx'), models.Index(fields=['status'], name='network_tr0_status_422b33_idx')],
            },
        ),
        migrations.CreateModel(
            name='TR069Parameter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('parameter_name', models.CharField(max_length=500)),
                ('parameter_type', models.CharField(choices=[('STRING', 'String'), ('INT', 'Integer'), ('UNSIGNED_INT', 'Unsigned Integer'), ('BOOLEAN', 'Boolean'), ('DATETIME', 'DateTime'), ('BASE64', 'Base64'), ('HEX_BINARY', 'Hex Binary')], default='STRING', max_length=20)),
                ('access_type', models.CharField(choices=[('READ_ONLY', 'Read Only'), ('READ_WRITE', 'Read Write'), ('WRITE_ONLY', 'Write Only')], default='READ_ONLY', max_length=20)),
                ('current_value', models.TextField(blank=True)),
                ('configured_value', models.TextField(blank=True)),
                ('min_value', models.CharField(blank=True, max_length=50)),
                ('max_value', models.CharField(blank=True, max_length=50)),
                ('default_value', models.TextField(blank=True)),
                ('notification', models.IntegerField(default=0)),
                ('description', models.TextField(blank=True)),
                ('last_updated', models.DateTimeField(auto_now=True)),
                ('schema_name', models.SlugField(default='default_schema', editable=False, max_length=63, unique=True)),
                ('cpe_device', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parameters', to='network.cpedevice')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'TR-069 Parameter',
                'verbose_name_plural': 'TR-069 Parameters',
                'ordering': ['parameter_name'],
                'unique_together': {('cpe_device', 'parameter_name')},
            },
        ),
        migrations.AddIndex(
            model_name='router',
            index=models.Index(fields=['ip_address'], name='network_rou_ip_addr_4854e3_idx'),
        ),
        migrations.AddIndex(
            model_name='router',
            index=models.Index(fields=['status'], name='network_rou_status_ebb1f2_idx'),
        ),
        migrations.AddIndex(
            model_name='router',
            index=models.Index(fields=['last_seen'], name='network_rou_last_se_746cd0_idx'),
        ),
        migrations.AddIndex(
            model_name='router',
            index=models.Index(fields=['auth_key'], name='network_rou_auth_ke_d6b01f_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='router',
            unique_together={('name',)},
        ),
        migrations.AlterUniqueTogether(
            name='pppoeuser',
            unique_together={('router', 'username')},
        ),
        migrations.AlterUniqueTogether(
            name='ponport',
            unique_together={('olt_port', 'pon_index')},
        ),
        migrations.AlterUniqueTogether(
            name='oltport',
            unique_together={('olt', 'port_number')},
        ),
        migrations.AlterUniqueTogether(
            name='oltdevice',
            unique_together={('serial_number',)},
        ),
        migrations.AlterUniqueTogether(
            name='mikrotikqueue',
            unique_together={('router', 'queue_name')},
        ),
        migrations.AlterUniqueTogether(
            name='mikrotikinterface',
            unique_together={('router', 'interface_name')},
        ),
        migrations.AlterUniqueTogether(
            name='ippool',
            unique_together={('subnet', 'name')},
        ),
        migrations.AddIndex(
            model_name='ipaddress',
            index=models.Index(fields=['ip_address'], name='network_ipa_ip_addr_ecd85c_idx'),
        ),
        migrations.AddIndex(
            model_name='ipaddress',
            index=models.Index(fields=['status'], name='network_ipa_status_81e609_idx'),
        ),
        migrations.AddIndex(
            model_name='ipaddress',
            index=models.Index(fields=['mac_address'], name='network_ipa_mac_add_2e6ab6_idx'),
        ),
        migrations.AddIndex(
            model_name='ipaddress',
            index=models.Index(fields=['service_connection'], name='network_ipa_service_9b4edc_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='hotspotuser',
            unique_together={('router', 'username')},
        ),
        migrations.AlterUniqueTogether(
            name='dhcprange',
            unique_together={('ip_pool', 'name')},
        ),
        migrations.AddIndex(
            model_name='cpedevice',
            index=models.Index(fields=['serial_number'], name='network_cpe_serial__de4252_idx'),
        ),
        migrations.AddIndex(
            model_name='cpedevice',
            index=models.Index(fields=['connection_status'], name='network_cpe_connect_d085e2_idx'),
        ),
        migrations.AddIndex(
            model_name='cpedevice',
            index=models.Index(fields=['last_connection'], name='network_cpe_last_co_5058bb_idx'),
        ),
    ]
